{% extends 'base.html' %}
{% load static%}
{%block style%}
h2 {
    font-size: 12px;
    line-height: 1.33337;
    font-weight: 600;
    letter-spacing: -.01em;
    text-transform: uppercase;
    color: #6e6e73;
    margin-bottom: 13px;
  }
img {
    border-radius: 5%;
    width:auto;
    height:auto;
    object-fit: auto;
    overflow: hidden;
    aspect-ratio: 5 / 6;
  } 
  
  .carousel {
    overflow-x: auto;
    overflow-y: show;
    display: flex;
    scroll-snap-type: x mandatory;
    scroll-padding: 0 1.5rem;
    margin: 10px 0 0 0;
    padding: 10px 0 20px 0;
  }
  
  .carousel .card {
    scroll-snap-align: start;
    display: flex;
    flex-shrink: 0;
    padding: 5px 10px 10px 10px;
    flex-direction: column;
    width: 400px;
    margin: 0 7px;
    background-color: white;
    border-radius: 5%;
    overflow: hidden;
    box-shadow: 2px 4px 12px rgba(0,0,0,.08);
    transition: all .3s cubic-bezier(0,0,.5,1)
  }
  
  .card:hover {
    box-shadow: 2px 4px 16px rgba(0,0,0,.16);
    transform: scale3d(1.01,1.01,1.01)
  }
  
  .carousel .card .content{
    height: 170px;
    padding: 30px 10px 0 10px;
  }
  
   .dots {
    display: flex;
    justify-content: center;
  }
  
  .dot {
    all: unset;
    margin-right: 5px;
    height: 10px;
    width: 10px;
    border-radius: 10px;
    background: gray;
    margin-top: 10px;
  }
  
  .dot:focus {
    outline: 1px solid blue;
  }  
  tr:nth-child(even) {
    background-color: rgba(14, 163, 64, 0.4);
  }
  
  th:nth-child(even) {
    background-color: rgba(150, 216, 96, 0.87);
  }
  
{%endblock%}
{% block content %}
    <div class="flex-box-row">
        <br>
        <br>
        <h5 id="heading">&nbsp; Breakfast</h5>
        <h7>&nbsp;&nbsp;Total options:{{bcnt}}</h7>
            {% comment %} <a class="btn btn-primary  btn-sm btn-block" href="{% url 'createfooditem' %}">Add more options</a> {% endcomment %}
        </div>
            {% comment %} <table class="table table-sm">
                <tr>
                    <th>Name</th>
                    <th>Carbs</th>
                    <th>Fats</th>
                    <th>Protien</th>
                    <th>Calorie</th>
                    
                </tr>
                <br> {% endcomment %}
<div class="carousel">
               {% for food in breakfast %}
               <div class="card">
                <div class="content">
                  <h2 style="font-size:110%">{{food.name}} </span></h2>
                  {% comment %} <h3>Unlock your Potential</h3> {% endcomment %}
                  <p> <span style =" color:#538b01; font-weight:bold;text-transform:capitalize; "> Carbs </span> | {{food.carbs}}gm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style =" color:#538b01; font-weight:bold; text-transform:capitalize; "> Fats </span>| {{food.fats}}gm</p>
                  <p><span style =" color:#538b01; font-weight:bold; text-transform:capitalize;"> Calorie </span>| {{food.calories}}kcal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style =" color:#538b01; font-weight:bold;text-transform:capitalize; ">  Protien</span>| {{food.protein}}gm</p>
                  <a class="link" href="{% url "additem" id=food.id%}">
                      <i class="fa fa-plus-square" aria-hidden="true"style ="font-size:120%"></i>
                    </a>
                </div>
              </div>
                {% endfor %}
                </div>
                
               
<!---------------------------->
<div class="flex-box-row">
    <br>
    <br>
    <h5 id="heading">&nbsp;&nbsp;Lunch</h5>
    <h7>&nbsp;&nbsp;Total options:{{lcnt}}</h7>
        {% comment %} <a class="btn btn-primary  btn-sm btn-block" href="{% url 'createfooditem' %}">Add more options</a> {% endcomment %}
    </div>
        {% comment %} <table class="table table-sm">
            <tr>
                <th>Name</th>
                <th>Carbs</th>
                <th>Fats</th>
                <th>Protien</th>
                <th>Calorie</th>
                
            </tr>
            <br> {% endcomment %}
<div class="carousel">
           {% for food in lunch %}
           <div class="card">
            <div class="content">
              <h2 style="font-size:110%">{{food.name}} </span></h2>
              {% comment %} <h3>Unlock your Potential</h3> {% endcomment %}
              <p> <span style =" color:#538b01; font-weight:bold;text-transform:capitalize; "> Carbs </span> | {{food.carbs}}gm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style =" color:#538b01; font-weight:bold; text-transform:capitalize; "> Fats </span>| {{food.fats}}gm</p>
              <p><span style =" color:#538b01; font-weight:bold; text-transform:capitalize;"> Calorie </span>| {{food.calories}}kcal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style =" color:#538b01; font-weight:bold;text-transform:capitalize; ">  Protien</span>| {{food.protein}}gm</p>
              <a class="link" href="{% url "additem" id=food.id%}">
                  <i class="fa fa-plus-square" aria-hidden="true"style ="font-size:120%"></i>
                </a>
            </div>
          </div>
            {% endfor %}
            </div>
            
           
<!------------------------------------------>
   <div class="flex-box-row">
        <br>
        <br>
        <h5 id="heading">&nbsp;&nbsp;Snacks</h5>
        <h7>&nbsp;&nbsp;Total options:{{scnt}}</h7>
            {% comment %} <a class="btn btn-primary  btn-sm btn-block" href="{% url 'createfooditem' %}">Add more options</a> {% endcomment %}
        </div>
            {% comment %} <table class="table table-sm">
                <tr>
                    <th>Name</th>
                    <th>Carbs</th>
                    <th>Fats</th>
                    <th>Protien</th>
                    <th>Calorie</th>
                    
                </tr>
                <br> {% endcomment %}
<div class="carousel">
               {% for food in snacks %}
               <div class="card">
                <div class="content">
                  <h2 style="font-size:110%">{{food.name}} </span></h2>
                  {% comment %} <h3>Unlock your Potential</h3> {% endcomment %}
                  <p> <span style =" color:#538b01; font-weight:bold;text-transform:capitalize; "> Carbs </span> | {{food.carbs}}gm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style =" color:#538b01; font-weight:bold; text-transform:capitalize; "> Fats </span>| {{food.fats}}gm</p>
                  <p><span style =" color:#538b01; font-weight:bold; text-transform:capitalize;"> Calorie </span>| {{food.calories}}kcal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style =" color:#538b01; font-weight:bold;text-transform:capitalize; ">  Protien</span>| {{food.protein}}gm</p>
                  <a class="link" href="{% url "additem" id=food.id%}">
                      <i class="fa fa-plus-square" aria-hidden="true" style ="font-size:120%"></i>
                    </a>
                </div>
              </div>
                {% endfor %}
                </div>
                
<!-------------------------------------->
<div class="flex-box-row">
    <br>
    <br>
    <h5 id="heading">&nbsp;&nbsp;Dinner</h5>
    <h7>&nbsp;&nbsp;Total options:{{dcnt}}</h7>
        {% comment %} <a class="btn btn-primary  btn-sm btn-block" href="{% url 'createfooditem' %}">Add more options</a> {% endcomment %}
    </div>
        {% comment %} <table class="table table-sm">
            <tr>
                <th>Name</th>
                <th>Carbs</th>
                <th>Fats</th>
                <th>Protien</th>
                <th>Calorie</th>
                
            </tr>
            <br> {% endcomment %}
<div class="carousel">
           {% for food in dinner %}
           <div class="card">
            <div class="content">
              <h2 style="font-size:110%">{{food.name}} </span></h2>
              {% comment %} <h3>Unlock your Potential</h3> {% endcomment %}
              <p> <span style =" color:#538b01; font-weight:bold;text-transform:capitalize; "> Carbs </span> | {{food.carbs}}gm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style =" color:#538b01; font-weight:bold; text-transform:capitalize; "> Fats </span>| {{food.fats}}gm</p>
              <p><span style =" color:#538b01; font-weight:bold; text-transform:capitalize;"> Calorie </span>| {{food.calories}}kcal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style =" color:#538b01; font-weight:bold;text-transform:capitalize; ">  Protien</span>| {{food.protein}}gm</p>
              <a class="link" href="{% url "additem" id=food.id%}">
                  <i class="fa fa-plus-square" aria-hidden="true" style ="font-size:120%"></i>
              </a>
            </div>
          </div>
            {% endfor %}
            </div>
            
            <div class="dots">
            </div>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            
            

        {% comment %} </table> {% endcomment %}
<br>
{% endblock %}


{% block js%}

const dots = document.querySelector('.dots');
dots.addEventListener('click', e => {
  const target = e.target;
  if (!target.matches('.dot')) {
	  return;
  }
  
  const index = Array.from(dots.children).indexOf(target);
  const selector = `.card:nth-child(${index + 1})`;
  const card = document.querySelector(selector)
  card.scrollIntoView({
    behavior: 'smooth',
    inline: 'start'
  })
})

// Used JQuery here, but this could be done with vanilla JS
let cardCount = $(".carousel").children().length;
let dot = '<button class="dot"></button>';

(function addDots() {
  for (let i = 0; i < cardCount; i++) {
    $('.dots').append(dot);
  }
}()) 
{%endblock%}